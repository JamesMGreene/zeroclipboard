{"version":3,"file":"ZeroClipboard.Core.min.js","sources":["ZeroClipboard.Core.js"],"names":["window","undefined","_currentElement","_copyTarget","_mouseupEventData","_window","_document","document","_navigator","navigator","_setTimeout","setTimeout","_encodeURIComponent","encodeURIComponent","_ActiveXObject","ActiveXObject","_Error","Error","_parseInt","parseInt","_parseFloat","parseFloat","_isNaN","isNaN","_round","Math","round","_now","Date","now","_keys","Object","keys","_defineProperty","defineProperty","_hasOwn","prototype","hasOwnProperty","_slice","Array","slice","_supportsMouseEnterAndMouseLeave","el","isSupported","createElement","e","_canUseMouseEventCtor","MouseEvent","evt","bubbles","cancelable","_unwrap","unwrapper","wrap","unwrap","unwrappedEl","nodeType","_args","argumentsObj","call","_extend","i","len","arg","prop","src","copy","args","arguments","target","length","_deepCopy","source","_pick","obj","newObj","_omit","indexOf","_deleteOwnProperties","_containedBy","ancestorEl","result","contains","_getDirPathOfUrl","url","dir","split","lastIndexOf","_getCurrentScriptUrlFromErrorStack","stack","matches","match","_getCurrentScriptUrlFromError","err","sourceURL","fileName","_getCurrentScriptUrl","jsPath","scripts","currentScript","getElementsByTagName","readyState","_getUnanimousScriptParentDir","jsDir","_getDefaultSwfPath","_createMouseEvent","argsArray","relatedTarget","type","createEvent","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","initMouseEvent","apply","_stopAllPropagation","event","stopImmediatePropagation","stopPropagation","_getElementIdentifier","getElementIdentifier","this","classes","className","replace","join","nodeName","toLowerCase","id","_debugUtilEventDump","title","console","log","message","mouseTrackingDump","canGroup","group","groupEnd","_mouseTracking","forEach","eventType","JSON","stringify","currentTarget","_source","_source2","_flashState","bridge","version","pluginType","disabled","outdated","unavailable","deactivated","overdue","ready","_minimumFlashVersion","_handlers","mouseover","mouseout","_mouseupEventPropsToExclude","_clipData","_clipDataFormatMap","_eventMessages","error","flash-disabled","flash-outdated","flash-unavailable","flash-deactivated","flash-overdue","_globalConfig","swfPath","trustedDomains","location","host","cacheBust","forceEnhancedClipboard","flashLoadTimeout","autoActivate","bubbleEvents","containerId","containerClass","swfObjectId","hoverClass","activeClass","forceHandCursor","zIndex","_config","options","test","_isValidHtml4Id","_state","browser","flash","zeroclipboard","ZeroClipboard","config","_isFlashUnusable","_on","listener","events","added","on","push","emit","errorTypes","name","_off","foundIndex","perEventHandlers","off","splice","_listeners","_emit","eventCopy","returnVal","tmp","_createEvent","_preprocessEvent","_dispatchCallbacks","_mapClipDataToFlash","data","formatMap","_create","isFlashUnusable","maxWait","_embedSwf","_destroy","clearData","blur","_unembedSwf","_setData","format","dataObj","dataFormat","_clearData","_getData","_focus","element","_removeClass","_addClass","newTitle","getAttribute","htmlBridge","_getHtmlBridge","setAttribute","useHandCursor","_getStyle","_setHandCursor","_reposition","_blur","removeAttribute","style","left","top","width","_activeElement","timeStamp","msg","minimumVersion","clipboardData","setData","_mapClipResultsFromFlash","_getRelatedTarget","targetEl","relatedTargetId","getElementById","_shouldPerformAsync","_dispatchCallback","func","context","async","wildcardTypeHandlers","specificTypeHandlers","handlers","concat","originalContext","handleEvent","stopProcessingThisEvent","flashErrorNames","wasDeactivated","textContent","htmlContent","value","outerHTML","innerHTML","innerText","_safeActiveElement","focus","_fireMouseEvent","doc","ownerDocument","defaults","defaultView","which","dispatchEvent","_synthesizeMouseEntryAndExit","supplementalType","_onWindowMouseOverAndOut","isMouseover","isMouseout","relevantTargetProp","oppositeTargetProp","relevantTarget","oppositeTarget","modifiedEventTarget","relevantTargetIsInCurrentElement","relevantTargetIsInHtmlBridge","oppositeTargetIsInCurrentElement","oppositeTargetIsInHtmlBridge","preventDefault","_getRelatedTargetForMouseEntryAndExit","originalEvent","_onFlashBridgeMouseEntryAndExit","_onFlashBridgeMouseMove","_onFlashBridgeMouseDown","_onFlashBridgeMouseUp","_addSwfMouseEventHandlers","flashBridge","addEventListener","_removeSwfMouseEventHandlers","removeEventListener","_createHtmlBridge","container","position","height","_getSafeZIndex","parentNode","allowScriptAccess","_determineScriptAccess","allowNetworking","flashvars","_vars","swfUrl","_cacheBust","divToBeReplaced","appendChild","body","tmpDiv","usingActiveX","firstChild","replaceChild","display","removeSwfFromIE","removeChild","clipData","newClipData","text","html","rtf","clipResults","newResults","tmpHash","path","domain","domains","str","trustedOriginsExpanded","_extractDomain","protocol","originOrUrl","protocolIndex","pathIndex","_extractAllDomains","origins","resultsArray","currentDomain","configOptions","swfDomain","activeElement","classList","add","classNames","setClass","c","cl","remove","getComputedStyle","getPropertyValue","_getZoomFactor","rect","physicalWidth","logicalWidth","zoomFactor","getBoundingClientRect","right","offsetWidth","_getDOMObjectPosition","info","pageXOffset","pageYOffset","documentElement","scrollLeft","scrollTop","leftBorderWidth","clientLeft","topBorderWidth","clientTop","bottom","pos","enabled","setHandCursor","val","_detectFlashSupport","parseFlashVersion","desc","isPepperFlash","flashPlayerFileName","inspectPlugin","plugin","hasFlash","flashVersion","description","filename","isPPAPI","ax","mimeType","isActiveX","plugins","mimeTypes","enabledPlugin","GetVariable","e1","e2","e3","_createClient","writable","configurable","enumerable","state","create","destroy","getData","activate","deactivate","define","amd","module","exports"],"mappings":"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","sourcesContent":["/*!\n * ZeroClipboard\n * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.\n * Copyright (c) 2014 Jon Rohan, James M. Greene\n * Licensed MIT\n * http://zeroclipboard.org/\n * v2.1.6\n */\n(function(window, undefined) {\n  \"use strict\";\n  /**\n * Store references to critically important global functions that may be\n * overridden on certain web pages.\n */\n  var _window = window, _document = _window.document, _navigator = _window.navigator, _setTimeout = _window.setTimeout, _encodeURIComponent = _window.encodeURIComponent, _ActiveXObject = _window.ActiveXObject, _Error = _window.Error, _parseInt = _window.parseInt, _parseFloat = _window.parseFloat, _isNaN = _window.isNaN, _round = _window.Math.round, _now = _window.Date.now, _keys = _window.Object.keys, _defineProperty = _window.Object.defineProperty, _hasOwn = _window.Object.prototype.hasOwnProperty, _slice = _window.Array.prototype.slice, _supportsMouseEnterAndMouseLeave = function() {\n    var el, isSupported = false;\n    try {\n      el = _document.createElement(\"div\");\n      isSupported = \"onmouseenter\" in el && \"onmouseleave\" in el;\n    } catch (e) {}\n    el = null;\n    return isSupported;\n  }(), _canUseMouseEventCtor = function(MouseEvent) {\n    if (typeof MouseEvent !== \"undefined\" && MouseEvent) {\n      try {\n        var evt = new MouseEvent(\"click\", {\n          bubbles: true,\n          cancelable: true\n        });\n        return evt ? true : false;\n      } catch (e) {}\n    }\n    return false;\n  }(_window.MouseEvent), _unwrap = function() {\n    var unwrapper = function(el) {\n      return el;\n    };\n    if (typeof _window.wrap === \"function\" && typeof _window.unwrap === \"function\") {\n      var el, unwrappedEl;\n      try {\n        el = _document.createElement(\"div\");\n        unwrappedEl = _window.unwrap(el);\n        if (el.nodeType === 1 && unwrappedEl && unwrappedEl.nodeType === 1) {\n          unwrapper = _window.unwrap;\n        }\n      } catch (e) {}\n      el = unwrappedEl = null;\n    }\n    return unwrapper;\n  }();\n  /**\n * Convert an `arguments` object into an Array.\n *\n * @returns The arguments as an Array\n * @private\n */\n  var _args = function(argumentsObj) {\n    return _slice.call(argumentsObj);\n  };\n  /**\n * Shallow-copy the owned, enumerable properties of one object over to another, similar to jQuery's `$.extend`.\n *\n * @returns The target object, augmented\n * @private\n */\n  var _extend = function() {\n    var i, len, arg, prop, src, copy, args = _args(arguments), target = args[0] || {};\n    for (i = 1, len = args.length; i < len; i++) {\n      if ((arg = args[i]) != null) {\n        for (prop in arg) {\n          if (_hasOwn.call(arg, prop)) {\n            src = target[prop];\n            copy = arg[prop];\n            if (target !== copy && copy !== undefined) {\n              target[prop] = copy;\n            }\n          }\n        }\n      }\n    }\n    return target;\n  };\n  /**\n * Return a deep copy of the source object or array.\n *\n * @returns Object or Array\n * @private\n */\n  var _deepCopy = function(source) {\n    var copy, i, len, prop;\n    if (typeof source !== \"object\" || source == null) {\n      copy = source;\n    } else if (typeof source.length === \"number\") {\n      copy = [];\n      for (i = 0, len = source.length; i < len; i++) {\n        if (_hasOwn.call(source, i)) {\n          copy[i] = _deepCopy(source[i]);\n        }\n      }\n    } else {\n      copy = {};\n      for (prop in source) {\n        if (_hasOwn.call(source, prop)) {\n          copy[prop] = _deepCopy(source[prop]);\n        }\n      }\n    }\n    return copy;\n  };\n  /**\n * Makes a shallow copy of `obj` (like `_extend`) but filters its properties based on a list of `keys` to keep.\n * The inverse of `_omit`, mostly. The big difference is that these properties do NOT need to be enumerable to\n * be kept.\n *\n * @returns A new filtered object.\n * @private\n */\n  var _pick = function(obj, keys) {\n    var newObj = {};\n    for (var i = 0, len = keys.length; i < len; i++) {\n      if (keys[i] in obj) {\n        newObj[keys[i]] = obj[keys[i]];\n      }\n    }\n    return newObj;\n  };\n  /**\n * Makes a shallow copy of `obj` (like `_extend`) but filters its properties based on a list of `keys` to omit.\n * The inverse of `_pick`.\n *\n * @returns A new filtered object.\n * @private\n */\n  var _omit = function(obj, keys) {\n    var newObj = {};\n    for (var prop in obj) {\n      if (keys.indexOf(prop) === -1) {\n        newObj[prop] = obj[prop];\n      }\n    }\n    return newObj;\n  };\n  /**\n * Remove all owned, enumerable properties from an object.\n *\n * @returns The original object without its owned, enumerable properties.\n * @private\n */\n  var _deleteOwnProperties = function(obj) {\n    if (obj) {\n      for (var prop in obj) {\n        if (_hasOwn.call(obj, prop)) {\n          delete obj[prop];\n        }\n      }\n    }\n    return obj;\n  };\n  /**\n * Determine if an element is contained within another element (or IS that element).\n *\n * @returns Boolean\n * @private\n */\n  var _containedBy = function(el, ancestorEl) {\n    var result = ancestorEl && el && (ancestorEl === el || ancestorEl.contains && ancestorEl.contains(el));\n    return result === true;\n  };\n  /**\n * Get the URL path's parent directory.\n *\n * @returns String or `undefined`\n * @private\n */\n  var _getDirPathOfUrl = function(url) {\n    var dir;\n    if (typeof url === \"string\" && url) {\n      dir = url.split(\"#\")[0].split(\"?\")[0];\n      dir = url.slice(0, url.lastIndexOf(\"/\") + 1);\n    }\n    return dir;\n  };\n  /**\n * Get the current script's URL by throwing an `Error` and analyzing it.\n *\n * @returns String or `undefined`\n * @private\n */\n  var _getCurrentScriptUrlFromErrorStack = function(stack) {\n    var url, matches;\n    if (typeof stack === \"string\" && stack) {\n      matches = stack.match(/^(?:|[^:@]*@|.+\\)@(?=http[s]?|file)|.+?\\s+(?: at |@)(?:[^:\\(]+ )*[\\(]?)((?:http[s]?|file):\\/\\/[\\/]?.+?\\/[^:\\)]*?)(?::\\d+)(?::\\d+)?/);\n      if (matches && matches[1]) {\n        url = matches[1];\n      } else {\n        matches = stack.match(/\\)@((?:http[s]?|file):\\/\\/[\\/]?.+?\\/[^:\\)]*?)(?::\\d+)(?::\\d+)?/);\n        if (matches && matches[1]) {\n          url = matches[1];\n        }\n      }\n    }\n    return url;\n  };\n  /**\n * Get the current script's URL by throwing an `Error` and analyzing it.\n *\n * @returns String or `undefined`\n * @private\n */\n  var _getCurrentScriptUrlFromError = function() {\n    var url, err;\n    try {\n      throw new _Error();\n    } catch (e) {\n      err = e;\n    }\n    if (err) {\n      url = err.sourceURL || err.fileName || _getCurrentScriptUrlFromErrorStack(err.stack);\n    }\n    return url;\n  };\n  /**\n * Get the current script's URL.\n *\n * @returns String or `undefined`\n * @private\n */\n  var _getCurrentScriptUrl = function() {\n    var jsPath, scripts, i;\n    if (_document.currentScript && (jsPath = _document.currentScript.src)) {\n      return jsPath;\n    }\n    scripts = _document.getElementsByTagName(\"script\");\n    if (scripts.length === 1) {\n      return scripts[0].src || undefined;\n    }\n    if (\"readyState\" in scripts[0]) {\n      for (i = scripts.length; i--; ) {\n        if (scripts[i].readyState === \"interactive\" && (jsPath = scripts[i].src)) {\n          return jsPath;\n        }\n      }\n    }\n    if (_document.readyState === \"loading\" && (jsPath = scripts[scripts.length - 1].src)) {\n      return jsPath;\n    }\n    if (jsPath = _getCurrentScriptUrlFromError()) {\n      return jsPath;\n    }\n    return undefined;\n  };\n  /**\n * Get the unanimous parent directory of ALL script tags.\n * If any script tags are either (a) inline or (b) from differing parent\n * directories, this method must return `undefined`.\n *\n * @returns String or `undefined`\n * @private\n */\n  var _getUnanimousScriptParentDir = function() {\n    var i, jsDir, jsPath, scripts = _document.getElementsByTagName(\"script\");\n    for (i = scripts.length; i--; ) {\n      if (!(jsPath = scripts[i].src)) {\n        jsDir = null;\n        break;\n      }\n      jsPath = _getDirPathOfUrl(jsPath);\n      if (jsDir == null) {\n        jsDir = jsPath;\n      } else if (jsDir !== jsPath) {\n        jsDir = null;\n        break;\n      }\n    }\n    return jsDir || undefined;\n  };\n  /**\n * Get the presumed location of the \"ZeroClipboard.swf\" file, based on the location\n * of the executing JavaScript file (e.g. \"ZeroClipboard.js\", etc.).\n *\n * @returns String\n * @private\n */\n  var _getDefaultSwfPath = function() {\n    var jsDir = _getDirPathOfUrl(_getCurrentScriptUrl()) || _getUnanimousScriptParentDir() || \"\";\n    return jsDir + \"ZeroClipboard.swf\";\n  };\n  /**\n * Create a new MouseEvent.\n * @private\n */\n  var _createMouseEvent = function(args) {\n    var e, argsArray;\n    if (typeof args.relatedTarget === \"undefined\") {\n      args.relatedTarget = null;\n    }\n    if (_canUseMouseEventCtor) {\n      e = new _window.MouseEvent(args.type, args);\n    } else if (_document.createEvent) {\n      argsArray = [ args.type, args.bubbles, args.cancelable, args.view, args.detail, args.screenX, args.screenY, args.clientX, args.clientY, args.ctrlKey, args.altKey, args.shiftKey, args.metaKey, args.button, args.relatedTarget ];\n      e = _document.createEvent(\"MouseEvents\");\n      e.initMouseEvent.apply(e, argsArray);\n    }\n    return e;\n  };\n  /**\n * Stop all propagation of an event, both immediate and bubbling, but allow the default action.\n * @private\n */\n  var _stopAllPropagation = function(event) {\n    if (event) {\n      event.stopImmediatePropagation();\n      event.stopPropagation();\n    }\n  };\n  var _getElementIdentifier = function(el) {\n    if (el === _window) {\n      return \"(window)\";\n    }\n    if (typeof _window.getElementIdentifier === \"function\") {\n      return _window.getElementIdentifier.apply(this, arguments);\n    }\n    if (el == null) {\n      return \"(\" + el + \")\";\n    }\n    var classes = el.className.replace(/^\\s+|\\s+$/g, \"\").split(/\\s+/).join(\".\");\n    return el.nodeName.toLowerCase() + (el.id ? \"#\" + el.id : \"\") + (classes ? \".\" + classes : \"\");\n  };\n  var _debugUtilEventDump = function(title, event) {\n    if (_window.console && _window.console.log) {\n      var message = \"\", mouseTrackingDump = {}, canGroup = !!(_window.console.group && _window.console.groupEnd);\n      if (!title) {\n        _window.console.log(\"No `title` argument passed to _debugUtilEventDump\");\n        return;\n      }\n      if (!event) {\n        _window.console.log(\"No `event` argument passed to _debugUtilEventDump\");\n        return;\n      }\n      if (_mouseTracking) {\n        Object.keys(_mouseTracking).forEach(function(eventType) {\n          if (_mouseTracking[eventType]) {\n            Object.keys(_mouseTracking[eventType]).forEach(function(prop) {\n              if (!mouseTrackingDump[eventType]) {\n                mouseTrackingDump[eventType] = {};\n              }\n              mouseTrackingDump[eventType][prop] = _getElementIdentifier(_mouseTracking[eventType][prop]);\n            });\n          }\n        });\n      }\n      if (event && event.type) {\n        message = JSON.stringify({\n          type: event.type,\n          target: _getElementIdentifier(event.target),\n          currentTarget: _getElementIdentifier(event.currentTarget),\n          relatedTarget: _getElementIdentifier(event.relatedTarget),\n          _source: event._source,\n          _source2: event._source2,\n          _currentElement: _getElementIdentifier(_currentElement),\n          _mouseTracking: mouseTrackingDump\n        }, null, 2);\n      }\n      if (message) {\n        if (canGroup) {\n          _window.console.group(title);\n        } else {\n          message = title + \":\\n\" + message;\n        }\n      }\n      _window.console.log(message || title);\n      if (message && canGroup) {\n        _window.console.groupEnd();\n      }\n    }\n  };\n  /**\n * Keep track of the state of the Flash object.\n * @private\n */\n  var _flashState = {\n    bridge: null,\n    version: \"0.0.0\",\n    pluginType: \"unknown\",\n    disabled: null,\n    outdated: null,\n    unavailable: null,\n    deactivated: null,\n    overdue: null,\n    ready: null\n  };\n  /**\n * The minimum Flash Player version required to use ZeroClipboard completely.\n * @readonly\n * @private\n */\n  var _minimumFlashVersion = \"11.0.0\";\n  /**\n * Keep track of all event listener registrations.\n * @private\n */\n  var _handlers = {};\n  /**\n * Keep track of the currently activated element.\n * @private\n */\n  var _currentElement;\n  /**\n * Keep track of the element that was activated when a `copy` process started.\n * @private\n */\n  var _copyTarget;\n  /**\n * Temporarily keep track of the most recent non-ZeroClipboard elements being `mouseover`/`mouseout`-ed of.\n * @private\n */\n  var _mouseTracking = {\n    mouseover: null,\n    mouseout: null\n  };\n  /**\n * A list of event properties to NOT maintain from the `mouseup` event data for use in simulating `click`.\n * @private\n */\n  var _mouseupEventPropsToExclude = [ \"type\", \"target\", \"relatedTarget\", \"srcElement\", \"toElement\", \"fromElement\" ];\n  /**\n * The MouseEvent data from `mouseup` to regurgitate for the simulated `click` dispatch.\n * @private\n */\n  var _mouseupEventData;\n  /**\n * Keep track of data for the pending clipboard transaction.\n * @private\n */\n  var _clipData = {};\n  /**\n * Keep track of data formats for the pending clipboard transaction.\n * @private\n */\n  var _clipDataFormatMap = null;\n  /**\n * The `message` store for events\n * @private\n */\n  var _eventMessages = {\n    ready: \"Flash communication is established\",\n    error: {\n      \"flash-disabled\": \"Flash is disabled or not installed\",\n      \"flash-outdated\": \"Flash is too outdated to support ZeroClipboard\",\n      \"flash-unavailable\": \"Flash is unable to communicate bidirectionally with JavaScript\",\n      \"flash-deactivated\": \"Flash is too outdated for your browser and/or is configured as click-to-activate\",\n      \"flash-overdue\": \"Flash communication was established but NOT within the acceptable time limit\"\n    }\n  };\n  /**\n * ZeroClipboard configuration defaults for the Core module.\n * @private\n */\n  var _globalConfig = {\n    swfPath: _getDefaultSwfPath(),\n    trustedDomains: window.location.host ? [ window.location.host ] : [],\n    cacheBust: true,\n    forceEnhancedClipboard: false,\n    flashLoadTimeout: 3e4,\n    autoActivate: true,\n    bubbleEvents: true,\n    containerId: \"global-zeroclipboard-html-bridge\",\n    containerClass: \"global-zeroclipboard-container\",\n    swfObjectId: \"global-zeroclipboard-flash-bridge\",\n    hoverClass: \"zeroclipboard-is-hover\",\n    activeClass: \"zeroclipboard-is-active\",\n    forceHandCursor: false,\n    title: null,\n    zIndex: 999999999\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.config`.\n * @private\n */\n  var _config = function(options) {\n    if (typeof options === \"object\" && options !== null) {\n      for (var prop in options) {\n        if (_hasOwn.call(options, prop)) {\n          if (/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(prop)) {\n            _globalConfig[prop] = options[prop];\n          } else if (_flashState.bridge == null) {\n            if (prop === \"containerId\" || prop === \"swfObjectId\") {\n              if (_isValidHtml4Id(options[prop])) {\n                _globalConfig[prop] = options[prop];\n              } else {\n                throw new Error(\"The specified `\" + prop + \"` value is not valid as an HTML4 Element ID\");\n              }\n            } else {\n              _globalConfig[prop] = options[prop];\n            }\n          }\n        }\n      }\n    }\n    if (typeof options === \"string\" && options) {\n      if (_hasOwn.call(_globalConfig, options)) {\n        return _globalConfig[options];\n      }\n      return;\n    }\n    return _deepCopy(_globalConfig);\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.state`.\n * @private\n */\n  var _state = function() {\n    return {\n      browser: _pick(_navigator, [ \"userAgent\", \"platform\", \"appName\" ]),\n      flash: _omit(_flashState, [ \"bridge\" ]),\n      zeroclipboard: {\n        version: ZeroClipboard.version,\n        config: ZeroClipboard.config()\n      }\n    };\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.isFlashUnusable`.\n * @private\n */\n  var _isFlashUnusable = function() {\n    return !!(_flashState.disabled || _flashState.outdated || _flashState.unavailable || _flashState.deactivated);\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.on`.\n * @private\n */\n  var _on = function(eventType, listener) {\n    var i, len, events, added = {};\n    if (typeof eventType === \"string\" && eventType) {\n      events = eventType.toLowerCase().split(/\\s+/);\n    } else if (typeof eventType === \"object\" && eventType && typeof listener === \"undefined\") {\n      for (i in eventType) {\n        if (_hasOwn.call(eventType, i) && typeof i === \"string\" && i && typeof eventType[i] === \"function\") {\n          ZeroClipboard.on(i, eventType[i]);\n        }\n      }\n    }\n    if (events && events.length) {\n      for (i = 0, len = events.length; i < len; i++) {\n        eventType = events[i].replace(/^on/, \"\");\n        added[eventType] = true;\n        if (!_handlers[eventType]) {\n          _handlers[eventType] = [];\n        }\n        _handlers[eventType].push(listener);\n      }\n      if (added.ready && _flashState.ready) {\n        ZeroClipboard.emit({\n          type: \"ready\"\n        });\n      }\n      if (added.error) {\n        var errorTypes = [ \"disabled\", \"outdated\", \"unavailable\", \"deactivated\", \"overdue\" ];\n        for (i = 0, len = errorTypes.length; i < len; i++) {\n          if (_flashState[errorTypes[i]] === true) {\n            ZeroClipboard.emit({\n              type: \"error\",\n              name: \"flash-\" + errorTypes[i]\n            });\n            break;\n          }\n        }\n      }\n    }\n    return ZeroClipboard;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.off`.\n * @private\n */\n  var _off = function(eventType, listener) {\n    var i, len, foundIndex, events, perEventHandlers;\n    if (arguments.length === 0) {\n      events = _keys(_handlers);\n    } else if (typeof eventType === \"string\" && eventType) {\n      events = eventType.split(/\\s+/);\n    } else if (typeof eventType === \"object\" && eventType && typeof listener === \"undefined\") {\n      for (i in eventType) {\n        if (_hasOwn.call(eventType, i) && typeof i === \"string\" && i && typeof eventType[i] === \"function\") {\n          ZeroClipboard.off(i, eventType[i]);\n        }\n      }\n    }\n    if (events && events.length) {\n      for (i = 0, len = events.length; i < len; i++) {\n        eventType = events[i].toLowerCase().replace(/^on/, \"\");\n        perEventHandlers = _handlers[eventType];\n        if (perEventHandlers && perEventHandlers.length) {\n          if (listener) {\n            foundIndex = perEventHandlers.indexOf(listener);\n            while (foundIndex !== -1) {\n              perEventHandlers.splice(foundIndex, 1);\n              foundIndex = perEventHandlers.indexOf(listener, foundIndex);\n            }\n          } else {\n            perEventHandlers.length = 0;\n          }\n        }\n      }\n    }\n    return ZeroClipboard;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.handlers`.\n * @private\n */\n  var _listeners = function(eventType) {\n    var copy;\n    if (typeof eventType === \"string\" && eventType) {\n      copy = _deepCopy(_handlers[eventType]) || null;\n    } else {\n      copy = _deepCopy(_handlers);\n    }\n    return copy;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.emit`.\n * @private\n */\n  var _emit = function(event) {\n    var eventCopy, returnVal, tmp;\n    event = _createEvent(event);\n    if (!event) {\n      return;\n    }\n    if (_preprocessEvent(event)) {\n      return;\n    }\n    if (event.type === \"ready\" && _flashState.overdue === true) {\n      return ZeroClipboard.emit({\n        type: \"error\",\n        name: \"flash-overdue\"\n      });\n    }\n    eventCopy = _extend({}, event);\n    _dispatchCallbacks.call(this, eventCopy);\n    if (event.type === \"copy\") {\n      tmp = _mapClipDataToFlash(_clipData);\n      returnVal = tmp.data;\n      _clipDataFormatMap = tmp.formatMap;\n    }\n    return returnVal;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.create`.\n * @private\n */\n  var _create = function() {\n    if (typeof _flashState.ready !== \"boolean\") {\n      _flashState.ready = false;\n    }\n    if (!ZeroClipboard.isFlashUnusable() && _flashState.bridge === null) {\n      var maxWait = _globalConfig.flashLoadTimeout;\n      if (typeof maxWait === \"number\" && maxWait >= 0) {\n        _setTimeout(function() {\n          if (typeof _flashState.deactivated !== \"boolean\") {\n            _flashState.deactivated = true;\n          }\n          if (_flashState.deactivated === true) {\n            ZeroClipboard.emit({\n              type: \"error\",\n              name: \"flash-deactivated\"\n            });\n          }\n        }, maxWait);\n      }\n      _flashState.overdue = false;\n      _embedSwf();\n    }\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.destroy`.\n * @private\n */\n  var _destroy = function() {\n    ZeroClipboard.clearData();\n    ZeroClipboard.blur();\n    ZeroClipboard.emit(\"destroy\");\n    _unembedSwf();\n    ZeroClipboard.off();\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.setData`.\n * @private\n */\n  var _setData = function(format, data) {\n    var dataObj;\n    if (typeof format === \"object\" && format && typeof data === \"undefined\") {\n      dataObj = format;\n      ZeroClipboard.clearData();\n    } else if (typeof format === \"string\" && format) {\n      dataObj = {};\n      dataObj[format] = data;\n    } else {\n      return;\n    }\n    for (var dataFormat in dataObj) {\n      if (typeof dataFormat === \"string\" && dataFormat && _hasOwn.call(dataObj, dataFormat) && typeof dataObj[dataFormat] === \"string\" && dataObj[dataFormat]) {\n        _clipData[dataFormat] = dataObj[dataFormat];\n      }\n    }\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.clearData`.\n * @private\n */\n  var _clearData = function(format) {\n    if (typeof format === \"undefined\") {\n      _deleteOwnProperties(_clipData);\n      _clipDataFormatMap = null;\n    } else if (typeof format === \"string\" && _hasOwn.call(_clipData, format)) {\n      delete _clipData[format];\n    }\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.getData`.\n * @private\n */\n  var _getData = function(format) {\n    if (typeof format === \"undefined\") {\n      return _deepCopy(_clipData);\n    } else if (typeof format === \"string\" && _hasOwn.call(_clipData, format)) {\n      return _clipData[format];\n    }\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.focus`/`ZeroClipboard.activate`.\n * @private\n */\n  var _focus = function(element) {\n    if (!(element && element.nodeType === 1)) {\n      return;\n    }\n    if (_currentElement) {\n      _removeClass(_currentElement, _globalConfig.activeClass);\n      if (_currentElement !== element) {\n        _removeClass(_currentElement, _globalConfig.hoverClass);\n      }\n    }\n    _currentElement = element;\n    _addClass(element, _globalConfig.hoverClass);\n    var newTitle = element.getAttribute(\"title\") || _globalConfig.title;\n    if (typeof newTitle === \"string\" && newTitle) {\n      var htmlBridge = _getHtmlBridge(_flashState.bridge);\n      if (htmlBridge) {\n        htmlBridge.setAttribute(\"title\", newTitle);\n      }\n    }\n    var useHandCursor = _globalConfig.forceHandCursor === true || _getStyle(element, \"cursor\") === \"pointer\";\n    _setHandCursor(useHandCursor);\n    _reposition();\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.blur`/`ZeroClipboard.deactivate`.\n * @private\n */\n  var _blur = function() {\n    var htmlBridge = _getHtmlBridge(_flashState.bridge);\n    if (htmlBridge) {\n      htmlBridge.removeAttribute(\"title\");\n      htmlBridge.style.left = \"0px\";\n      htmlBridge.style.top = \"-9999px\";\n      htmlBridge.style.width = \"1px\";\n      htmlBridge.style.top = \"1px\";\n    }\n    if (_currentElement) {\n      _removeClass(_currentElement, _globalConfig.hoverClass);\n      _removeClass(_currentElement, _globalConfig.activeClass);\n      _currentElement = null;\n    }\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.activeElement`.\n * @private\n */\n  var _activeElement = function() {\n    return _currentElement || null;\n  };\n  /**\n * Check if a value is a valid HTML4 `ID` or `Name` token.\n * @private\n */\n  var _isValidHtml4Id = function(id) {\n    return typeof id === \"string\" && id && /^[A-Za-z][A-Za-z0-9_:\\-\\.]*$/.test(id);\n  };\n  /**\n * Create or update an `event` object, based on the `eventType`.\n * @private\n */\n  var _createEvent = function(event) {\n    var eventType;\n    if (typeof event === \"string\" && event) {\n      eventType = event;\n      event = {};\n    } else if (typeof event === \"object\" && event && typeof event.type === \"string\" && event.type) {\n      eventType = event.type;\n    }\n    if (!eventType) {\n      return;\n    }\n    if (!event.target && /^(copy|aftercopy|_click)$/.test(eventType.toLowerCase())) {\n      event.target = _copyTarget;\n    }\n    _extend(event, {\n      type: eventType.toLowerCase(),\n      target: event.target || _currentElement || null,\n      relatedTarget: event.relatedTarget || null,\n      currentTarget: _flashState && _flashState.bridge || null,\n      timeStamp: event.timeStamp || _now() || null\n    });\n    var msg = _eventMessages[event.type];\n    if (event.type === \"error\" && event.name && msg) {\n      msg = msg[event.name];\n    }\n    if (msg) {\n      event.message = msg;\n    }\n    if (event.type === \"ready\") {\n      _extend(event, {\n        target: null,\n        version: _flashState.version\n      });\n    }\n    if (event.type === \"error\") {\n      if (/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(event.name)) {\n        _extend(event, {\n          target: null,\n          minimumVersion: _minimumFlashVersion\n        });\n      }\n      if (/^flash-(outdated|unavailable|deactivated|overdue)$/.test(event.name)) {\n        _extend(event, {\n          version: _flashState.version\n        });\n      }\n    }\n    if (event.type === \"copy\") {\n      event.clipboardData = {\n        setData: ZeroClipboard.setData,\n        clearData: ZeroClipboard.clearData\n      };\n    }\n    if (event.type === \"aftercopy\") {\n      event = _mapClipResultsFromFlash(event, _clipDataFormatMap);\n    }\n    if (/^(?:before|after)?copy$/.test(event.type) && event.target && !event.relatedTarget) {\n      event.relatedTarget = _getRelatedTarget(event.target);\n    }\n    return event;\n  };\n  /**\n * Get a relatedTarget from the target's `data-clipboard-target` attribute\n * @private\n */\n  var _getRelatedTarget = function(targetEl) {\n    var relatedTargetId = targetEl && targetEl.getAttribute && targetEl.getAttribute(\"data-clipboard-target\");\n    return relatedTargetId ? _document.getElementById(relatedTargetId) : null;\n  };\n  /**\n * Determine if an event's registered handlers should be execute synchronously or asynchronously.\n *\n * @returns {boolean}\n * @private\n */\n  var _shouldPerformAsync = function(event) {\n    var eventType = event && typeof event.type === \"string\" && event.type || \"\";\n    return !/^(?:(?:before)?copy|destroy)$/.test(eventType);\n  };\n  /**\n * Control if a callback should be executed asynchronously or not.\n *\n * @returns `undefined`\n * @private\n */\n  var _dispatchCallback = function(func, context, args, async) {\n    if (async) {\n      _setTimeout(function() {\n        func.apply(context, args);\n      }, 0);\n    } else {\n      func.apply(context, args);\n    }\n  };\n  /**\n * Handle the actual dispatching of events to client instances.\n *\n * @returns `undefined`\n * @private\n */\n  var _dispatchCallbacks = function(event) {\n    if (!(typeof event === \"object\" && event && event.type)) {\n      return;\n    }\n    var async = _shouldPerformAsync(event);\n    var wildcardTypeHandlers = _handlers[\"*\"] || [];\n    var specificTypeHandlers = _handlers[event.type] || [];\n    var handlers = wildcardTypeHandlers.concat(specificTypeHandlers);\n    if (handlers && handlers.length) {\n      var i, len, func, context, eventCopy, originalContext = this;\n      for (i = 0, len = handlers.length; i < len; i++) {\n        func = handlers[i];\n        context = originalContext;\n        if (typeof func === \"string\" && typeof _window[func] === \"function\") {\n          func = _window[func];\n        }\n        if (typeof func === \"object\" && func && typeof func.handleEvent === \"function\") {\n          context = func;\n          func = func.handleEvent;\n        }\n        if (typeof func === \"function\") {\n          eventCopy = _extend({}, event);\n          _dispatchCallback(func, context, [ eventCopy ], async);\n        }\n      }\n    }\n    return this;\n  };\n  /**\n * Preprocess any special behaviors, reactions, or state changes after receiving this event.\n * Executes only once per event emitted, NOT once per client.\n * @private\n */\n  var _preprocessEvent = function(event) {\n    var stopProcessingThisEvent = false;\n    var element = event.target || _currentElement || null;\n    var flashErrorNames = [ \"flash-disabled\", \"flash-outdated\", \"flash-unavailable\", \"flash-deactivated\", \"flash-overdue\" ];\n    switch (event.type) {\n     case \"error\":\n      if (flashErrorNames.indexOf(event.name) !== -1) {\n        _extend(_flashState, {\n          disabled: event.name === \"flash-disabled\",\n          outdated: event.name === \"flash-outdated\",\n          unavailable: event.name === \"flash-unavailable\",\n          deactivated: event.name === \"flash-deactivated\",\n          overdue: event.name === \"flash-overdue\",\n          ready: false\n        });\n      }\n      break;\n\n     case \"ready\":\n      var wasDeactivated = _flashState.deactivated === true;\n      _extend(_flashState, {\n        disabled: false,\n        outdated: false,\n        unavailable: false,\n        deactivated: false,\n        overdue: wasDeactivated,\n        ready: !wasDeactivated\n      });\n      break;\n\n     case \"beforecopy\":\n      _copyTarget = element;\n      break;\n\n     case \"copy\":\n      var textContent, htmlContent, targetEl = event.relatedTarget;\n      if (!(_clipData[\"text/html\"] || _clipData[\"text/plain\"]) && targetEl && (htmlContent = targetEl.value || targetEl.outerHTML || targetEl.innerHTML) && (textContent = targetEl.value || targetEl.textContent || targetEl.innerText)) {\n        event.clipboardData.clearData();\n        event.clipboardData.setData(\"text/plain\", textContent);\n        if (htmlContent !== textContent) {\n          event.clipboardData.setData(\"text/html\", htmlContent);\n        }\n      } else if (!_clipData[\"text/plain\"] && event.target && (textContent = event.target.getAttribute(\"data-clipboard-text\"))) {\n        event.clipboardData.clearData();\n        event.clipboardData.setData(\"text/plain\", textContent);\n      }\n      break;\n\n     case \"aftercopy\":\n      ZeroClipboard.clearData();\n      if (element && element !== _safeActiveElement() && element.focus) {\n        element.focus();\n      }\n      break;\n\n     case \"_click\":\n      if (_globalConfig.bubbleEvents === true) {\n        _fireMouseEvent(_extend({}, event, _mouseupEventData, {\n          type: \"click\"\n        }));\n      }\n      _copyTarget = null;\n      _mouseupEventData = null;\n      stopProcessingThisEvent = true;\n      break;\n    }\n    return stopProcessingThisEvent;\n  };\n  /**\n * Dispatch a synthetic MouseEvent.\n *\n * @returns `undefined`\n * @private\n */\n  var _fireMouseEvent = function(event) {\n    if (!(event && typeof event.type === \"string\" && event.type && event.target)) {\n      return;\n    }\n    var e, target = event.target, doc = target && target.ownerDocument || _document, defaults = {\n      view: doc.defaultView || _window,\n      bubbles: true,\n      cancelable: true,\n      detail: event.type === \"click\" ? 1 : 0,\n      button: typeof event.which === \"number\" ? event.which - 1 : typeof event.button === \"number\" ? event.button : doc.createEvent ? 0 : 1\n    }, args = _extend(defaults, event);\n    if (!(target && target.dispatchEvent)) {\n      return;\n    }\n    e = _createMouseEvent(args);\n    _extend(e, {\n      _source: \"zc\",\n      _source2: event._source2\n    });\n    if (e.type !== \"mousemove\") {\n      _debugUtilEventDump(\"ZC.Core _fireMouseEvent\", _extend({}, e, {\n        target: target\n      }));\n    }\n    target.dispatchEvent(e);\n  };\n  /**\n * Given a pending `mouseover`/`mouseout` event: fire a corresponding\n * `mouseenter`/`mouseleave` event, if appropriate; then fire pending event.\n * @private\n */\n  var _synthesizeMouseEntryAndExit = function(event) {\n    var supplementalType = event.type === \"mouseover\" ? \"mouseenter\" : event.type === \"mouseout\" ? \"mouseleave\" : null;\n    if (supplementalType && _globalConfig.bubbleEvents === true) {\n      if (_supportsMouseEnterAndMouseLeave && !_containedBy(event.relatedTarget, event.target)) {\n        _fireMouseEvent(_extend({}, event, {\n          type: supplementalType,\n          bubbles: false,\n          cancelable: false\n        }));\n      }\n      return _fireMouseEvent(event);\n    }\n  };\n  /**\n * Track the relevant targets of all window-level \"mouseout\" events.\n * @private\n */\n  var _onWindowMouseOverAndOut = function(event) {\n    if (event && event._source === \"zc\") {\n      return;\n    }\n    if (_globalConfig.bubbleEvents !== true) {\n      return;\n    }\n    _debugUtilEventDump(\"window \" + event.type + \" capture\", event);\n    var eventType = event.type, isMouseover = eventType === \"mouseover\", isMouseout = eventType === \"mouseout\", relevantTargetProp = isMouseover ? \"target\" : isMouseout ? \"relatedTarget\" : null, oppositeTargetProp = isMouseover ? \"relatedTarget\" : isMouseout ? \"target\" : null, relevantTarget = relevantTargetProp ? event[relevantTargetProp] : null, oppositeTarget = oppositeTargetProp ? event[oppositeTargetProp] : null, htmlBridge = _getHtmlBridge(_flashState.bridge), modifiedEventTarget = {}, relevantTargetIsInCurrentElement = _containedBy(relevantTarget, _currentElement), relevantTargetIsInHtmlBridge = _containedBy(relevantTarget, htmlBridge), oppositeTargetIsInCurrentElement = _containedBy(oppositeTarget, _currentElement), oppositeTargetIsInHtmlBridge = _containedBy(oppositeTarget, htmlBridge);\n    if (!htmlBridge || !relevantTarget) {\n      return;\n    }\n    if (_currentElement && oppositeTarget) {\n      if ((relevantTargetIsInCurrentElement || relevantTargetIsInHtmlBridge) && (oppositeTargetIsInCurrentElement || oppositeTargetIsInHtmlBridge)) {\n        _debugUtilEventDump(\"Global stopProp1\", event);\n        _stopAllPropagation(event);\n        return;\n      }\n      if (!relevantTargetIsInCurrentElement && !relevantTargetIsInHtmlBridge && !oppositeTargetIsInCurrentElement && oppositeTargetIsInHtmlBridge && event._source !== \"zc\") {\n        _debugUtilEventDump(\"Global stopProp2, preventDefault, and refire\", event);\n        _stopAllPropagation(event);\n        event.preventDefault();\n        modifiedEventTarget[oppositeTargetProp] = _currentElement;\n        modifiedEventTarget._source2 = \"_onWindowMouseOverAndOut synthesis of \" + event.type;\n        return _synthesizeMouseEntryAndExit(_extend({}, event, modifiedEventTarget));\n      }\n    }\n    if (!relevantTargetIsInCurrentElement && !relevantTargetIsInHtmlBridge && (!oppositeTarget || !_currentElement || oppositeTargetIsInCurrentElement || oppositeTargetIsInHtmlBridge)) {\n      _debugUtilEventDump(\"Global all the correct targets\", event);\n      _mouseTracking[eventType] = {\n        relevantTarget: relevantTarget,\n        oppositeTarget: oppositeTarget,\n        target: _containedBy(event.target, htmlBridge) ? _currentElement : event.target,\n        relatedTarget: _containedBy(event.relatedTarget, htmlBridge) ? _currentElement : event.relatedTarget\n      };\n    }\n  };\n  /**\n * Get the best possible `relatedTarget` value for a ZeroClipboard-synthesized `mouseover`/`mouseout` event.\n * @private\n */\n  var _getRelatedTargetForMouseEntryAndExit = function(originalEvent) {\n    var relatedTarget = null, htmlBridge = _getHtmlBridge(_flashState.bridge);\n    if (originalEvent && originalEvent.relatedTarget) {\n      if (_containedBy(originalEvent.relatedTarget, _currentElement) || _containedBy(originalEvent.relatedTarget, htmlBridge)) {\n        relatedTarget = _currentElement;\n      } else {\n        relatedTarget = originalEvent.relatedTarget;\n      }\n    } else if (_mouseTracking && _mouseTracking.mouseout && _mouseTracking.mouseout.target && !_containedBy(_mouseTracking.mouseout.target, _currentElement) && !_containedBy(_mouseTracking.mouseout.target, htmlBridge)) {\n      relatedTarget = _mouseTracking.mouseout.target;\n    } else if (_mouseTracking && _mouseTracking.mouseover && _mouseTracking.mouseover.relatedTarget && !_containedBy(_mouseTracking.mouseover.relatedTarget, _currentElement) && !_containedBy(_mouseTracking.mouseover.relatedTarget, htmlBridge)) {\n      relatedTarget = _mouseTracking.mouseover.relatedTarget;\n    }\n    return relatedTarget;\n  };\n  /**\n * The `mouseenter`/`mouseover`/`mouseleave`/`mouseout` handler for the Flash object's element.\n * @private\n */\n  var _onFlashBridgeMouseEntryAndExit = function(originalEvent) {\n    _debugUtilEventDump(\"_onFlashBridgeMouseEntryAndExit\", originalEvent);\n    if (originalEvent._source === \"zc\" || !_currentElement) {\n      return;\n    }\n    var event = _extend({}, originalEvent, {\n      target: _currentElement,\n      relatedTarget: _getRelatedTargetForMouseEntryAndExit(originalEvent),\n      _source2: \"_onFlashBridgeMouseEntryAndExit synthesis of \" + originalEvent.type\n    });\n    if (!event.relatedTarget || event.target === event.relatedTarget) {\n      return;\n    }\n    _debugUtilEventDump(\"_onFlashBridgeMouseEntryAndExit's new synthesized event\", event);\n    _stopAllPropagation(originalEvent);\n    return _synthesizeMouseEntryAndExit(event);\n  };\n  /**\n * The `mousemove` handler for the Flash object's element.\n * @private\n */\n  var _onFlashBridgeMouseMove = function(originalEvent) {\n    if (originalEvent._source === \"zc\" || !_currentElement) {\n      return;\n    }\n    var event = _extend({}, originalEvent, {\n      target: _currentElement,\n      _source2: \"_onFlashBridgeMouseMove\"\n    });\n    _stopAllPropagation(originalEvent);\n    if (_globalConfig.bubbleEvents === true) {\n      return _fireMouseEvent(event);\n    }\n  };\n  /**\n * The `mousedown` handler for the Flash object's element.\n * @private\n */\n  var _onFlashBridgeMouseDown = function(originalEvent) {\n    if (originalEvent._source === \"zc\" || !_currentElement) {\n      return;\n    }\n    _addClass(_currentElement, _globalConfig.activeClass);\n    var event = _extend({}, originalEvent, {\n      target: _currentElement,\n      _source2: \"_onFlashBridgeMouseDown\"\n    });\n    _stopAllPropagation(originalEvent);\n    if (_globalConfig.bubbleEvents === true) {\n      return _fireMouseEvent(event);\n    }\n  };\n  /**\n * The `mouseup` handler for the Flash object's container element.\n * @private\n */\n  var _onFlashBridgeMouseUp = function(originalEvent) {\n    if (originalEvent._source === \"zc\" || !_currentElement) {\n      return;\n    }\n    _removeClass(_currentElement, _globalConfig.activeClass);\n    var event = _extend({}, originalEvent, {\n      target: _currentElement,\n      _source2: \"_onFlashBridgeMouseUp\"\n    });\n    _mouseupEventData = _omit(event, _mouseupEventPropsToExclude);\n    _stopAllPropagation(originalEvent);\n    if (_globalConfig.bubbleEvents === true) {\n      return _fireMouseEvent(event);\n    }\n  };\n  /**\n * Add MouseEvent handlers to the Flash object's element (Flash bridge).\n * @private\n */\n  var _addSwfMouseEventHandlers = function(flashBridge) {\n    _window.addEventListener(\"mouseout\", _onWindowMouseOverAndOut, true);\n    flashBridge.addEventListener(\"mouseover\", _onFlashBridgeMouseEntryAndExit, false);\n    flashBridge.addEventListener(\"mousemove\", _onFlashBridgeMouseMove, false);\n    flashBridge.addEventListener(\"mousedown\", _onFlashBridgeMouseDown, false);\n    flashBridge.addEventListener(\"mouseup\", _onFlashBridgeMouseUp, false);\n    flashBridge.addEventListener(\"mouseout\", _onFlashBridgeMouseEntryAndExit, false);\n    flashBridge.addEventListener(\"click\", _stopAllPropagation, false);\n  };\n  /**\n * Remove MouseEvent handlers from the Flash object's element (Flash bridge).\n * @private\n */\n  var _removeSwfMouseEventHandlers = function(flashBridge) {\n    _window.removeEventListener(\"mouseout\", _onWindowMouseOverAndOut, true);\n    flashBridge.removeEventListener(\"mouseover\", _onFlashBridgeMouseEntryAndExit, false);\n    flashBridge.removeEventListener(\"mousemove\", _onFlashBridgeMouseMove, false);\n    flashBridge.removeEventListener(\"mousedown\", _onFlashBridgeMouseDown, false);\n    flashBridge.removeEventListener(\"mouseup\", _onFlashBridgeMouseUp, false);\n    flashBridge.removeEventListener(\"mouseout\", _onFlashBridgeMouseEntryAndExit, false);\n    flashBridge.removeEventListener(\"click\", _stopAllPropagation, false);\n  };\n  /**\n * Create the HTML bridge element to embed the Flash object into.\n * @private\n */\n  var _createHtmlBridge = function() {\n    var container = _document.createElement(\"div\");\n    container.id = _globalConfig.containerId;\n    container.className = _globalConfig.containerClass;\n    container.style.position = \"absolute\";\n    container.style.left = \"0px\";\n    container.style.top = \"-9999px\";\n    container.style.width = \"1px\";\n    container.style.height = \"1px\";\n    container.style.zIndex = \"\" + _getSafeZIndex(_globalConfig.zIndex);\n    return container;\n  };\n  /**\n * Get the HTML element container that wraps the Flash bridge object/element.\n * @private\n */\n  var _getHtmlBridge = function(flashBridge) {\n    var htmlBridge = flashBridge && flashBridge.parentNode;\n    while (htmlBridge && htmlBridge.nodeName === \"OBJECT\" && htmlBridge.parentNode) {\n      htmlBridge = htmlBridge.parentNode;\n    }\n    return htmlBridge || null;\n  };\n  /**\n * Create the SWF object.\n *\n * @returns The SWF object reference.\n * @private\n */\n  var _embedSwf = function() {\n    var len, flashBridge = _flashState.bridge, container = _getHtmlBridge(flashBridge);\n    if (!flashBridge) {\n      var allowScriptAccess = _determineScriptAccess(_window.location.host, _globalConfig);\n      var allowNetworking = allowScriptAccess === \"never\" ? \"none\" : \"all\";\n      var flashvars = _vars(_globalConfig);\n      var swfUrl = _globalConfig.swfPath + _cacheBust(_globalConfig.swfPath, _globalConfig);\n      container = _createHtmlBridge();\n      var divToBeReplaced = _document.createElement(\"div\");\n      container.appendChild(divToBeReplaced);\n      _document.body.appendChild(container);\n      var tmpDiv = _document.createElement(\"div\");\n      var usingActiveX = _flashState.pluginType === \"activex\";\n      tmpDiv.innerHTML = '<object id=\"' + _globalConfig.swfObjectId + '\" name=\"' + _globalConfig.swfObjectId + '\" ' + 'width=\"100%\" height=\"100%\" ' + (usingActiveX ? 'classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"' : 'type=\"application/x-shockwave-flash\" data=\"' + swfUrl + '\"') + \">\" + (usingActiveX ? '<param name=\"movie\" value=\"' + swfUrl + '\"/>' : \"\") + '<param name=\"allowScriptAccess\" value=\"' + allowScriptAccess + '\"/>' + '<param name=\"allowNetworking\" value=\"' + allowNetworking + '\"/>' + '<param name=\"menu\" value=\"false\"/>' + '<param name=\"wmode\" value=\"transparent\"/>' + '<param name=\"flashvars\" value=\"' + flashvars + '\"/>' + \"</object>\";\n      flashBridge = tmpDiv.firstChild;\n      tmpDiv = null;\n      _unwrap(flashBridge).ZeroClipboard = ZeroClipboard;\n      container.replaceChild(flashBridge, divToBeReplaced);\n      _addSwfMouseEventHandlers(flashBridge);\n    }\n    if (!flashBridge) {\n      flashBridge = _document[_globalConfig.swfObjectId];\n      if (flashBridge && (len = flashBridge.length)) {\n        flashBridge = flashBridge[len - 1];\n      }\n      if (!flashBridge && container) {\n        flashBridge = container.firstChild;\n      }\n    }\n    _flashState.bridge = flashBridge || null;\n    return flashBridge;\n  };\n  /**\n * Destroy the SWF object.\n * @private\n */\n  var _unembedSwf = function() {\n    var flashBridge = _flashState.bridge;\n    if (flashBridge) {\n      var container = _getHtmlBridge(flashBridge);\n      if (container) {\n        _removeSwfMouseEventHandlers(flashBridge);\n        if (_flashState.pluginType === \"activex\" && \"readyState\" in flashBridge) {\n          flashBridge.style.display = \"none\";\n          (function removeSwfFromIE() {\n            if (flashBridge.readyState === 4) {\n              for (var prop in flashBridge) {\n                if (typeof flashBridge[prop] === \"function\") {\n                  flashBridge[prop] = null;\n                }\n              }\n              if (flashBridge.parentNode) {\n                flashBridge.parentNode.removeChild(flashBridge);\n              }\n              if (container.parentNode) {\n                container.parentNode.removeChild(container);\n              }\n            } else {\n              _setTimeout(removeSwfFromIE, 10);\n            }\n          })();\n        } else {\n          if (flashBridge.parentNode) {\n            flashBridge.parentNode.removeChild(flashBridge);\n          }\n          if (container.parentNode) {\n            container.parentNode.removeChild(container);\n          }\n        }\n      }\n      _flashState.ready = null;\n      _flashState.bridge = null;\n      _flashState.deactivated = null;\n    }\n  };\n  /**\n * Map the data format names of the \"clipData\" to Flash-friendly names.\n *\n * @returns A new transformed object.\n * @private\n */\n  var _mapClipDataToFlash = function(clipData) {\n    var newClipData = {}, formatMap = {};\n    if (!(typeof clipData === \"object\" && clipData)) {\n      return;\n    }\n    for (var dataFormat in clipData) {\n      if (dataFormat && _hasOwn.call(clipData, dataFormat) && typeof clipData[dataFormat] === \"string\" && clipData[dataFormat]) {\n        switch (dataFormat.toLowerCase()) {\n         case \"text/plain\":\n         case \"text\":\n         case \"air:text\":\n         case \"flash:text\":\n          newClipData.text = clipData[dataFormat];\n          formatMap.text = dataFormat;\n          break;\n\n         case \"text/html\":\n         case \"html\":\n         case \"air:html\":\n         case \"flash:html\":\n          newClipData.html = clipData[dataFormat];\n          formatMap.html = dataFormat;\n          break;\n\n         case \"application/rtf\":\n         case \"text/rtf\":\n         case \"rtf\":\n         case \"richtext\":\n         case \"air:rtf\":\n         case \"flash:rtf\":\n          newClipData.rtf = clipData[dataFormat];\n          formatMap.rtf = dataFormat;\n          break;\n\n         default:\n          break;\n        }\n      }\n    }\n    return {\n      data: newClipData,\n      formatMap: formatMap\n    };\n  };\n  /**\n * Map the data format names from Flash-friendly names back to their original \"clipData\" names (via a format mapping).\n *\n * @returns A new transformed object.\n * @private\n */\n  var _mapClipResultsFromFlash = function(clipResults, formatMap) {\n    if (!(typeof clipResults === \"object\" && clipResults && typeof formatMap === \"object\" && formatMap)) {\n      return clipResults;\n    }\n    var newResults = {};\n    for (var prop in clipResults) {\n      if (_hasOwn.call(clipResults, prop)) {\n        if (prop !== \"success\" && prop !== \"data\") {\n          newResults[prop] = clipResults[prop];\n          continue;\n        }\n        newResults[prop] = {};\n        var tmpHash = clipResults[prop];\n        for (var dataFormat in tmpHash) {\n          if (dataFormat && _hasOwn.call(tmpHash, dataFormat) && _hasOwn.call(formatMap, dataFormat)) {\n            newResults[prop][formatMap[dataFormat]] = tmpHash[dataFormat];\n          }\n        }\n      }\n    }\n    return newResults;\n  };\n  /**\n * Will look at a path, and will create a \"?noCache={time}\" or \"&noCache={time}\"\n * query param string to return. Does NOT append that string to the original path.\n * This is useful because ExternalInterface often breaks when a Flash SWF is cached.\n *\n * @returns The `noCache` query param with necessary \"?\"/\"&\" prefix.\n * @private\n */\n  var _cacheBust = function(path, options) {\n    var cacheBust = options == null || options && options.cacheBust === true;\n    if (cacheBust) {\n      return (path.indexOf(\"?\") === -1 ? \"?\" : \"&\") + \"noCache=\" + _now();\n    } else {\n      return \"\";\n    }\n  };\n  /**\n * Creates a query string for the FlashVars param.\n * Does NOT include the cache-busting query param.\n *\n * @returns FlashVars query string\n * @private\n */\n  var _vars = function(options) {\n    var i, len, domain, domains, str = \"\", trustedOriginsExpanded = [];\n    if (options.trustedDomains) {\n      if (typeof options.trustedDomains === \"string\") {\n        domains = [ options.trustedDomains ];\n      } else if (typeof options.trustedDomains === \"object\" && \"length\" in options.trustedDomains) {\n        domains = options.trustedDomains;\n      }\n    }\n    if (domains && domains.length) {\n      for (i = 0, len = domains.length; i < len; i++) {\n        if (_hasOwn.call(domains, i) && domains[i] && typeof domains[i] === \"string\") {\n          domain = _extractDomain(domains[i]);\n          if (!domain) {\n            continue;\n          }\n          if (domain === \"*\") {\n            trustedOriginsExpanded.length = 0;\n            trustedOriginsExpanded.push(domain);\n            break;\n          }\n          trustedOriginsExpanded.push.apply(trustedOriginsExpanded, [ domain, \"//\" + domain, _window.location.protocol + \"//\" + domain ]);\n        }\n      }\n    }\n    if (trustedOriginsExpanded.length) {\n      str += \"trustedOrigins=\" + _encodeURIComponent(trustedOriginsExpanded.join(\",\"));\n    }\n    if (options.forceEnhancedClipboard === true) {\n      str += (str ? \"&\" : \"\") + \"forceEnhancedClipboard=true\";\n    }\n    if (typeof options.swfObjectId === \"string\" && options.swfObjectId) {\n      str += (str ? \"&\" : \"\") + \"swfObjectId=\" + _encodeURIComponent(options.swfObjectId);\n    }\n    return str;\n  };\n  /**\n * Extract the domain (e.g. \"github.com\") from an origin (e.g. \"https://github.com\") or\n * URL (e.g. \"https://github.com/zeroclipboard/zeroclipboard/\").\n *\n * @returns the domain\n * @private\n */\n  var _extractDomain = function(originOrUrl) {\n    if (originOrUrl == null || originOrUrl === \"\") {\n      return null;\n    }\n    originOrUrl = originOrUrl.replace(/^\\s+|\\s+$/g, \"\");\n    if (originOrUrl === \"\") {\n      return null;\n    }\n    var protocolIndex = originOrUrl.indexOf(\"//\");\n    originOrUrl = protocolIndex === -1 ? originOrUrl : originOrUrl.slice(protocolIndex + 2);\n    var pathIndex = originOrUrl.indexOf(\"/\");\n    originOrUrl = pathIndex === -1 ? originOrUrl : protocolIndex === -1 || pathIndex === 0 ? null : originOrUrl.slice(0, pathIndex);\n    if (originOrUrl && originOrUrl.slice(-4).toLowerCase() === \".swf\") {\n      return null;\n    }\n    return originOrUrl || null;\n  };\n  /**\n * Set `allowScriptAccess` based on `trustedDomains` and `window.location.host` vs. `swfPath`.\n *\n * @returns The appropriate script access level.\n * @private\n */\n  var _determineScriptAccess = function() {\n    var _extractAllDomains = function(origins) {\n      var i, len, tmp, resultsArray = [];\n      if (typeof origins === \"string\") {\n        origins = [ origins ];\n      }\n      if (!(typeof origins === \"object\" && origins && typeof origins.length === \"number\")) {\n        return resultsArray;\n      }\n      for (i = 0, len = origins.length; i < len; i++) {\n        if (_hasOwn.call(origins, i) && (tmp = _extractDomain(origins[i]))) {\n          if (tmp === \"*\") {\n            resultsArray.length = 0;\n            resultsArray.push(\"*\");\n            break;\n          }\n          if (resultsArray.indexOf(tmp) === -1) {\n            resultsArray.push(tmp);\n          }\n        }\n      }\n      return resultsArray;\n    };\n    return function(currentDomain, configOptions) {\n      var swfDomain = _extractDomain(configOptions.swfPath);\n      if (swfDomain === null) {\n        swfDomain = currentDomain;\n      }\n      var trustedDomains = _extractAllDomains(configOptions.trustedDomains);\n      var len = trustedDomains.length;\n      if (len > 0) {\n        if (len === 1 && trustedDomains[0] === \"*\") {\n          return \"always\";\n        }\n        if (trustedDomains.indexOf(currentDomain) !== -1) {\n          if (len === 1 && currentDomain === swfDomain) {\n            return \"sameDomain\";\n          }\n          return \"always\";\n        }\n      }\n      return \"never\";\n    };\n  }();\n  /**\n * Get the currently active/focused DOM element.\n *\n * @returns the currently active/focused element, or `null`\n * @private\n */\n  var _safeActiveElement = function() {\n    try {\n      return _document.activeElement;\n    } catch (err) {\n      return null;\n    }\n  };\n  /**\n * Add a class to an element, if it doesn't already have it.\n *\n * @returns The element, with its new class added.\n * @private\n */\n  var _addClass = function(element, value) {\n    if (!element || element.nodeType !== 1) {\n      return element;\n    }\n    if (element.classList) {\n      if (!element.classList.contains(value)) {\n        element.classList.add(value);\n      }\n      return element;\n    }\n    if (value && typeof value === \"string\") {\n      var classNames = (value || \"\").split(/\\s+/);\n      if (element.nodeType === 1) {\n        if (!element.className) {\n          element.className = value;\n        } else {\n          var className = \" \" + element.className + \" \", setClass = element.className;\n          for (var c = 0, cl = classNames.length; c < cl; c++) {\n            if (className.indexOf(\" \" + classNames[c] + \" \") < 0) {\n              setClass += \" \" + classNames[c];\n            }\n          }\n          element.className = setClass.replace(/^\\s+|\\s+$/g, \"\");\n        }\n      }\n    }\n    return element;\n  };\n  /**\n * Remove a class from an element, if it has it.\n *\n * @returns The element, with its class removed.\n * @private\n */\n  var _removeClass = function(element, value) {\n    if (!element || element.nodeType !== 1) {\n      return element;\n    }\n    if (element.classList) {\n      if (element.classList.contains(value)) {\n        element.classList.remove(value);\n      }\n      return element;\n    }\n    if (typeof value === \"string\" && value) {\n      var classNames = value.split(/\\s+/);\n      if (element.nodeType === 1 && element.className) {\n        var className = (\" \" + element.className + \" \").replace(/[\\n\\t]/g, \" \");\n        for (var c = 0, cl = classNames.length; c < cl; c++) {\n          className = className.replace(\" \" + classNames[c] + \" \", \" \");\n        }\n        element.className = className.replace(/^\\s+|\\s+$/g, \"\");\n      }\n    }\n    return element;\n  };\n  /**\n * Attempt to interpret the element's CSS styling. If `prop` is `\"cursor\"`,\n * then we assume that it should be a hand (\"pointer\") cursor if the element\n * is an anchor element (\"a\" tag).\n *\n * @returns The computed style property.\n * @private\n */\n  var _getStyle = function(el, prop) {\n    var value = _window.getComputedStyle(el, null).getPropertyValue(prop);\n    if (prop === \"cursor\") {\n      if (!value || value === \"auto\") {\n        if (el.nodeName === \"A\") {\n          return \"pointer\";\n        }\n      }\n    }\n    return value;\n  };\n  /**\n * Get the zoom factor of the browser. Always returns `1.0`, except at\n * non-default zoom levels in IE<8 and some older versions of WebKit.\n *\n * @returns Floating unit percentage of the zoom factor (e.g. 150% = `1.5`).\n * @private\n */\n  var _getZoomFactor = function() {\n    var rect, physicalWidth, logicalWidth, zoomFactor = 1;\n    if (typeof _document.body.getBoundingClientRect === \"function\") {\n      rect = _document.body.getBoundingClientRect();\n      physicalWidth = rect.right - rect.left;\n      logicalWidth = _document.body.offsetWidth;\n      zoomFactor = _round(physicalWidth / logicalWidth * 100) / 100;\n    }\n    return zoomFactor;\n  };\n  /**\n * Get the DOM positioning info of an element.\n *\n * @returns Object containing the element's position, width, and height.\n * @private\n */\n  var _getDOMObjectPosition = function(obj) {\n    var info = {\n      left: 0,\n      top: 0,\n      width: 0,\n      height: 0\n    };\n    if (obj.getBoundingClientRect) {\n      var rect = obj.getBoundingClientRect();\n      var pageXOffset, pageYOffset, zoomFactor;\n      if (\"pageXOffset\" in _window && \"pageYOffset\" in _window) {\n        pageXOffset = _window.pageXOffset;\n        pageYOffset = _window.pageYOffset;\n      } else {\n        zoomFactor = _getZoomFactor();\n        pageXOffset = _round(_document.documentElement.scrollLeft / zoomFactor);\n        pageYOffset = _round(_document.documentElement.scrollTop / zoomFactor);\n      }\n      var leftBorderWidth = _document.documentElement.clientLeft || 0;\n      var topBorderWidth = _document.documentElement.clientTop || 0;\n      info.left = rect.left + pageXOffset - leftBorderWidth;\n      info.top = rect.top + pageYOffset - topBorderWidth;\n      info.width = \"width\" in rect ? rect.width : rect.right - rect.left;\n      info.height = \"height\" in rect ? rect.height : rect.bottom - rect.top;\n    }\n    return info;\n  };\n  /**\n * Reposition the Flash object to cover the currently activated element.\n *\n * @returns `undefined`\n * @private\n */\n  var _reposition = function() {\n    var htmlBridge;\n    if (_currentElement && (htmlBridge = _getHtmlBridge(_flashState.bridge))) {\n      var pos = _getDOMObjectPosition(_currentElement);\n      _extend(htmlBridge.style, {\n        width: pos.width + \"px\",\n        height: pos.height + \"px\",\n        top: pos.top + \"px\",\n        left: pos.left + \"px\",\n        zIndex: \"\" + _getSafeZIndex(_globalConfig.zIndex)\n      });\n    }\n  };\n  /**\n * Sends a signal to the Flash object to display the hand cursor if `true`.\n *\n * @returns `undefined`\n * @private\n */\n  var _setHandCursor = function(enabled) {\n    if (_flashState.ready === true) {\n      if (_flashState.bridge && typeof _flashState.bridge.setHandCursor === \"function\") {\n        _flashState.bridge.setHandCursor(enabled);\n      } else {\n        _flashState.ready = false;\n      }\n    }\n  };\n  /**\n * Get a safe value for `zIndex`\n *\n * @returns an integer, or \"auto\"\n * @private\n */\n  var _getSafeZIndex = function(val) {\n    if (/^(?:auto|inherit)$/.test(val)) {\n      return val;\n    }\n    var zIndex;\n    if (typeof val === \"number\" && !_isNaN(val)) {\n      zIndex = val;\n    } else if (typeof val === \"string\") {\n      zIndex = _getSafeZIndex(_parseInt(val, 10));\n    }\n    return typeof zIndex === \"number\" ? zIndex : \"auto\";\n  };\n  /**\n * Detect the Flash Player status, version, and plugin type.\n *\n * @see {@link https://code.google.com/p/doctype-mirror/wiki/ArticleDetectFlash#The_code}\n * @see {@link http://stackoverflow.com/questions/12866060/detecting-pepper-ppapi-flash-with-javascript}\n *\n * @returns `undefined`\n * @private\n */\n  var _detectFlashSupport = function(ActiveXObject) {\n    var plugin, ax, mimeType, hasFlash = false, isActiveX = false, isPPAPI = false, flashVersion = \"\";\n    /**\n   * Derived from Apple's suggested sniffer.\n   * @param {String} desc e.g. \"Shockwave Flash 7.0 r61\"\n   * @returns {String} \"7.0.61\"\n   * @private\n   */\n    function parseFlashVersion(desc) {\n      var matches = desc.match(/[\\d]+/g);\n      matches.length = 3;\n      return matches.join(\".\");\n    }\n    function isPepperFlash(flashPlayerFileName) {\n      return !!flashPlayerFileName && (flashPlayerFileName = flashPlayerFileName.toLowerCase()) && (/^(pepflashplayer\\.dll|libpepflashplayer\\.so|pepperflashplayer\\.plugin)$/.test(flashPlayerFileName) || flashPlayerFileName.slice(-13) === \"chrome.plugin\");\n    }\n    function inspectPlugin(plugin) {\n      if (plugin) {\n        hasFlash = true;\n        if (plugin.version) {\n          flashVersion = parseFlashVersion(plugin.version);\n        }\n        if (!flashVersion && plugin.description) {\n          flashVersion = parseFlashVersion(plugin.description);\n        }\n        if (plugin.filename) {\n          isPPAPI = isPepperFlash(plugin.filename);\n        }\n      }\n    }\n    if (_navigator.plugins && _navigator.plugins.length) {\n      plugin = _navigator.plugins[\"Shockwave Flash\"];\n      inspectPlugin(plugin);\n      if (_navigator.plugins[\"Shockwave Flash 2.0\"]) {\n        hasFlash = true;\n        flashVersion = \"2.0.0.11\";\n      }\n    } else if (_navigator.mimeTypes && _navigator.mimeTypes.length) {\n      mimeType = _navigator.mimeTypes[\"application/x-shockwave-flash\"];\n      plugin = mimeType && mimeType.enabledPlugin;\n      inspectPlugin(plugin);\n    } else if (typeof ActiveXObject !== \"undefined\") {\n      isActiveX = true;\n      try {\n        ax = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.7\");\n        hasFlash = true;\n        flashVersion = parseFlashVersion(ax.GetVariable(\"$version\"));\n      } catch (e1) {\n        try {\n          ax = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.6\");\n          hasFlash = true;\n          flashVersion = \"6.0.21\";\n        } catch (e2) {\n          try {\n            ax = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\");\n            hasFlash = true;\n            flashVersion = parseFlashVersion(ax.GetVariable(\"$version\"));\n          } catch (e3) {\n            isActiveX = false;\n          }\n        }\n      }\n    }\n    _flashState.disabled = hasFlash !== true;\n    _flashState.outdated = flashVersion && _parseFloat(flashVersion) < _parseFloat(_minimumFlashVersion);\n    _flashState.version = flashVersion || \"0.0.0\";\n    _flashState.pluginType = isPPAPI ? \"pepper\" : isActiveX ? \"activex\" : hasFlash ? \"netscape\" : \"unknown\";\n  };\n  /**\n * Invoke the Flash detection algorithms immediately upon inclusion so we're not waiting later.\n */\n  _detectFlashSupport(_ActiveXObject);\n  /**\n * A shell constructor for `ZeroClipboard` client instances.\n *\n * @constructor\n */\n  var ZeroClipboard = function() {\n    if (!(this instanceof ZeroClipboard)) {\n      return new ZeroClipboard();\n    }\n    if (typeof ZeroClipboard._createClient === \"function\") {\n      ZeroClipboard._createClient.apply(this, _args(arguments));\n    }\n  };\n  /**\n * The ZeroClipboard library's version number.\n *\n * @static\n * @readonly\n * @property {string}\n */\n  _defineProperty(ZeroClipboard, \"version\", {\n    value: \"2.1.6\",\n    writable: false,\n    configurable: true,\n    enumerable: true\n  });\n  /**\n * Update or get a copy of the ZeroClipboard global configuration.\n * Returns a copy of the current/updated configuration.\n *\n * @returns Object\n * @static\n */\n  ZeroClipboard.config = function() {\n    return _config.apply(this, _args(arguments));\n  };\n  /**\n * Diagnostic method that describes the state of the browser, Flash Player, and ZeroClipboard.\n *\n * @returns Object\n * @static\n */\n  ZeroClipboard.state = function() {\n    return _state.apply(this, _args(arguments));\n  };\n  /**\n * Check if Flash is unusable for any reason: disabled, outdated, deactivated, etc.\n *\n * @returns Boolean\n * @static\n */\n  ZeroClipboard.isFlashUnusable = function() {\n    return _isFlashUnusable.apply(this, _args(arguments));\n  };\n  /**\n * Register an event listener.\n *\n * @returns `ZeroClipboard`\n * @static\n */\n  ZeroClipboard.on = function() {\n    return _on.apply(this, _args(arguments));\n  };\n  /**\n * Unregister an event listener.\n * If no `listener` function/object is provided, it will unregister all listeners for the provided `eventType`.\n * If no `eventType` is provided, it will unregister all listeners for every event type.\n *\n * @returns `ZeroClipboard`\n * @static\n */\n  ZeroClipboard.off = function() {\n    return _off.apply(this, _args(arguments));\n  };\n  /**\n * Retrieve event listeners for an `eventType`.\n * If no `eventType` is provided, it will retrieve all listeners for every event type.\n *\n * @returns array of listeners for the `eventType`; if no `eventType`, then a map/hash object of listeners for all event types; or `null`\n */\n  ZeroClipboard.handlers = function() {\n    return _listeners.apply(this, _args(arguments));\n  };\n  /**\n * Event emission receiver from the Flash object, forwarding to any registered JavaScript event listeners.\n *\n * @returns For the \"copy\" event, returns the Flash-friendly \"clipData\" object; otherwise `undefined`.\n * @static\n */\n  ZeroClipboard.emit = function() {\n    return _emit.apply(this, _args(arguments));\n  };\n  /**\n * Create and embed the Flash object.\n *\n * @returns The Flash object\n * @static\n */\n  ZeroClipboard.create = function() {\n    return _create.apply(this, _args(arguments));\n  };\n  /**\n * Self-destruct and clean up everything, including the embedded Flash object.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.destroy = function() {\n    return _destroy.apply(this, _args(arguments));\n  };\n  /**\n * Set the pending data for clipboard injection.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.setData = function() {\n    return _setData.apply(this, _args(arguments));\n  };\n  /**\n * Clear the pending data for clipboard injection.\n * If no `format` is provided, all pending data formats will be cleared.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.clearData = function() {\n    return _clearData.apply(this, _args(arguments));\n  };\n  /**\n * Get a copy of the pending data for clipboard injection.\n * If no `format` is provided, a copy of ALL pending data formats will be returned.\n *\n * @returns `String` or `Object`\n * @static\n */\n  ZeroClipboard.getData = function() {\n    return _getData.apply(this, _args(arguments));\n  };\n  /**\n * Sets the current HTML object that the Flash object should overlay. This will put the global\n * Flash object on top of the current element; depending on the setup, this may also set the\n * pending clipboard text data as well as the Flash object's wrapping element's title attribute\n * based on the underlying HTML element and ZeroClipboard configuration.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.focus = ZeroClipboard.activate = function() {\n    return _focus.apply(this, _args(arguments));\n  };\n  /**\n * Un-overlays the Flash object. This will put the global Flash object off-screen; depending on\n * the setup, this may also unset the Flash object's wrapping element's title attribute based on\n * the underlying HTML element and ZeroClipboard configuration.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.blur = ZeroClipboard.deactivate = function() {\n    return _blur.apply(this, _args(arguments));\n  };\n  /**\n * Returns the currently focused/\"activated\" HTML element that the Flash object is wrapping.\n *\n * @returns `HTMLElement` or `null`\n * @static\n */\n  ZeroClipboard.activeElement = function() {\n    return _activeElement.apply(this, _args(arguments));\n  };\n  if (typeof define === \"function\" && define.amd) {\n    define(function() {\n      return ZeroClipboard;\n    });\n  } else if (typeof module === \"object\" && module && typeof module.exports === \"object\" && module.exports) {\n    module.exports = ZeroClipboard;\n  } else {\n    window.ZeroClipboard = ZeroClipboard;\n  }\n})(function() {\n  return this || window;\n}());"]}